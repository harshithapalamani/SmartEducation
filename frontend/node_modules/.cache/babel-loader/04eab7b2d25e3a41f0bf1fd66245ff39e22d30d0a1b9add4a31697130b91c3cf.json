{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import DashboardLayout from'../components/Layout/DashboardLayout';import{doubtsAPI,materialsAPI}from'../services/api';import{MessageCircle,Send,Search,Clock,BookOpen,Sparkles,ChevronDown,X,AlertCircle,User,Bot,Loader,History,FileText,CheckCircle,HelpCircle}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AIDoubtSupport=()=>{var _currentAnswer$doubt;const[question,setQuestion]=useState('');const[loading,setLoading]=useState(false);const[currentAnswer,setCurrentAnswer]=useState(null);const[history,setHistory]=useState([]);const[showHistory,setShowHistory]=useState(false);const[historyLoading,setHistoryLoading]=useState(true);const[error,setError]=useState('');const[stats,setStats]=useState(null);// Filters\nconst[selectedSubject,setSelectedSubject]=useState('');const[selectedTopic,setSelectedTopic]=useState('');const[subjects,setSubjects]=useState([]);const[topics,setTopics]=useState([]);const answerRef=useRef(null);useEffect(()=>{fetchHistory();fetchStats();fetchSubjects();},[]);useEffect(()=>{if(selectedSubject){fetchTopics(selectedSubject);}else{setTopics([]);setSelectedTopic('');}},[selectedSubject]);useEffect(()=>{if(currentAnswer&&answerRef.current){answerRef.current.scrollIntoView({behavior:'smooth',block:'start'});}},[currentAnswer]);const fetchHistory=async()=>{try{const response=await doubtsAPI.getMyDoubts();setHistory(response.data.doubts||[]);}catch(error){console.error('Error fetching history:',error);}finally{setHistoryLoading(false);}};const fetchStats=async()=>{try{const response=await doubtsAPI.getStats();setStats(response.data);}catch(error){console.error('Error fetching stats:',error);}};const fetchSubjects=async()=>{try{const response=await materialsAPI.getSubjects();setSubjects(response.data.subjects||[]);}catch(error){console.error('Error fetching subjects:',error);}};const fetchTopics=async subject=>{try{const response=await materialsAPI.getTopics(subject);setTopics(response.data.topics||[]);}catch(error){console.error('Error fetching topics:',error);}};const handleSubmit=async e=>{e.preventDefault();if(!question.trim()||loading)return;setLoading(true);setError('');setCurrentAnswer(null);try{const payload={question:question.trim()};if(selectedSubject)payload.subject=selectedSubject;if(selectedTopic)payload.topic=selectedTopic;const response=await doubtsAPI.submit(payload);setCurrentAnswer(response.data);setQuestion('');fetchHistory();fetchStats();}catch(error){var _error$response,_error$response$data;console.error('Error submitting doubt:',error);setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to get answer. Please try again.');}finally{setLoading(false);}};const handleHistoryClick=doubt=>{setCurrentAnswer({doubt:doubt,answer:doubt.answer,relevantMaterials:doubt.relevantMaterials});setShowHistory(false);};const formatAnswer=text=>{if(!text)return null;// Split by newlines and format\nreturn text.split('\\n').map((line,index)=>{// Handle bullet points\nif(line.trim().startsWith('•')||line.trim().startsWith('-')){return/*#__PURE__*/_jsx(\"li\",{className:\"ml-4 mb-1\",children:line.replace(/^[•-]\\s*/,'')},index);}// Handle numbered lists\nif(/^\\d+[.)]\\s/.test(line.trim())){return/*#__PURE__*/_jsx(\"li\",{className:\"ml-4 mb-1\",children:line.replace(/^\\d+[.)]\\s*/,'')},index);}// Handle headers (lines ending with :)\nif(line.trim().endsWith(':')&&line.trim().length<100){return/*#__PURE__*/_jsx(\"h4\",{className:\"font-semibold text-gray-900 mt-4 mb-2\",children:line},index);}// Regular paragraph\nif(line.trim()){return/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:line},index);}return null;});};return/*#__PURE__*/_jsx(DashboardLayout,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"AI Doubt Support\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:\"Ask questions and get AI-powered answers from course materials\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowHistory(!showHistory),className:\"inline-flex items-center gap-2 px-4 py-2.5 rounded-xl transition-all \".concat(showHistory?'bg-black text-white':'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50'),children:[/*#__PURE__*/_jsx(History,{className:\"w-5 h-5\"}),\"History\",history.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 text-xs rounded-full \".concat(showHistory?'bg-white text-black':'bg-gray-100 text-gray-600'),children:history.length})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-black rounded-2xl p-5 text-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm\",children:\"Questions Asked\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-1\",children:(stats===null||stats===void 0?void 0:stats.totalDoubts)||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-white rounded-xl\",children:/*#__PURE__*/_jsx(HelpCircle,{className:\"w-6 h-6 text-black\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl p-5 border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"Resolved\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-1 text-gray-900\",children:(stats===null||stats===void 0?void 0:stats.resolved)||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-100 rounded-xl\",children:/*#__PURE__*/_jsx(CheckCircle,{className:\"w-6 h-6 text-gray-700\"})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-2xl p-5 border border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:\"Available Materials\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-3xl font-bold mt-1 text-gray-900\",children:(stats===null||stats===void 0?void 0:stats.materialsCount)||0})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-3 bg-gray-100 rounded-xl\",children:/*#__PURE__*/_jsx(BookOpen,{className:\"w-6 h-6 text-gray-700\"})})]})})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 bg-gray-100 border border-gray-300 rounded-xl flex items-center gap-3 text-gray-700\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-5 h-5 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{children:error}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setError(''),className:\"ml-auto p-1 hover:bg-gray-200 rounded-lg\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-black rounded-xl\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Ask a Question\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600 mb-1\",children:\"Subject (Optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedSubject,onChange:e=>setSelectedSubject(e.target.value),className:\"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl appearance-none focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Subjects\"}),subjects.map(subject=>/*#__PURE__*/_jsx(\"option\",{value:subject,children:subject},subject))]}),/*#__PURE__*/_jsx(ChevronDown,{className:\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-600 mb-1\",children:\"Topic (Optional)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"select\",{value:selectedTopic,onChange:e=>setSelectedTopic(e.target.value),disabled:!selectedSubject,className:\"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl appearance-none focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all text-sm disabled:opacity-50\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Topics\"}),topics.map(topic=>/*#__PURE__*/_jsx(\"option\",{value:topic,children:topic},topic))]}),/*#__PURE__*/_jsx(ChevronDown,{className:\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none\"})]})]})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"relative\",children:/*#__PURE__*/_jsx(\"textarea\",{value:question,onChange:e=>setQuestion(e.target.value),placeholder:\"Type your question here... The AI will search through course materials to provide a relevant answer.\",rows:4,className:\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all resize-none\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mt-4\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500\",children:selectedSubject||selectedTopic?/*#__PURE__*/_jsxs(_Fragment,{children:[\"Searching in: \",selectedSubject||'All',\" \",selectedTopic&&\"> \".concat(selectedTopic)]}):'Searching across all materials'}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!question.trim()||loading,className:\"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-xl hover:bg-gray-800 transition-all disabled:opacity-70 disabled:cursor-not-allowed font-medium\",children:loading?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Loader,{className:\"w-5 h-5 animate-spin\"}),\"Processing...\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Send,{className:\"w-5 h-5\"}),\"Ask Question\"]})})]})]})]}),currentAnswer&&/*#__PURE__*/_jsxs(\"div\",{ref:answerRef,className:\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-6 bg-gray-50 border-b border-gray-200\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-white rounded-xl shadow-sm\",children:/*#__PURE__*/_jsx(User,{className:\"w-5 h-5 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500\",children:\"Your Question\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-900 mt-1\",children:(_currentAnswer$doubt=currentAnswer.doubt)===null||_currentAnswer$doubt===void 0?void 0:_currentAnswer$doubt.question})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-black rounded-xl\",children:/*#__PURE__*/_jsx(Bot,{className:\"w-5 h-5 text-white\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-500 mb-3\",children:\"AI Answer\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-sm max-w-none text-gray-700\",children:formatAnswer(currentAnswer.answer)})]})]})}),currentAnswer.relevantMaterials&&currentAnswer.relevantMaterials.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"px-6 pb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 rounded-xl p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3\",children:[/*#__PURE__*/_jsx(FileText,{className:\"w-4 h-4\"}),\"Sources Referenced\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:currentAnswer.relevantMaterials.map((material,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-1.5 bg-gray-100 rounded-lg\",children:/*#__PURE__*/_jsx(BookOpen,{className:\"w-4 h-4 text-gray-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:material.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[material.subject,\" \\u2022 \",material.topic]})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded\",children:[Math.round((material.similarity||0)*100),\"% match\"]})]},index))})]})})]}),loading&&!currentAnswer&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(Sparkles,{className:\"w-8 h-8 text-white animate-pulse\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:\"Searching Course Materials\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mt-1\",children:\"Finding the most relevant content for your question...\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 flex justify-center gap-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-black rounded-full animate-bounce\",style:{animationDelay:'0ms'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-black rounded-full animate-bounce\",style:{animationDelay:'150ms'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-black rounded-full animate-bounce\",style:{animationDelay:'300ms'}})]})]}),showHistory&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black/60 z-50 flex justify-end\",onClick:()=>setShowHistory(false),children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white w-full max-w-md h-full overflow-hidden flex flex-col\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 border-b border-gray-200 flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-2 bg-gray-100 rounded-xl\",children:/*#__PURE__*/_jsx(History,{className:\"w-5 h-5 text-gray-600\"})}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Question History\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowHistory(false),className:\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-4\",children:historyLoading?/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-32\",children:/*#__PURE__*/_jsx(Loader,{className:\"w-6 h-6 text-gray-400 animate-spin\"})}):history.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(MessageCircle,{className:\"w-8 h-8 text-gray-400\"})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-gray-900 font-medium\",children:\"No questions yet\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm mt-1\",children:\"Your question history will appear here\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3\",children:history.map(doubt=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleHistoryClick(doubt),className:\"w-full text-left p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-black\",children:doubt.question}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mt-2 text-xs text-gray-500\",children:[doubt.subject&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-0.5 bg-gray-200 rounded\",children:doubt.subject})}),/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Clock,{className:\"w-3 h-3\"}),new Date(doubt.createdAt).toLocaleDateString()]})]})]},doubt._id))})})]})})]})});};export default AIDoubtSupport;","map":{"version":3,"names":["React","useState","useEffect","useRef","DashboardLayout","doubtsAPI","materialsAPI","MessageCircle","Send","Search","Clock","BookOpen","Sparkles","ChevronDown","X","AlertCircle","User","Bot","Loader","History","FileText","CheckCircle","HelpCircle","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AIDoubtSupport","_currentAnswer$doubt","question","setQuestion","loading","setLoading","currentAnswer","setCurrentAnswer","history","setHistory","showHistory","setShowHistory","historyLoading","setHistoryLoading","error","setError","stats","setStats","selectedSubject","setSelectedSubject","selectedTopic","setSelectedTopic","subjects","setSubjects","topics","setTopics","answerRef","fetchHistory","fetchStats","fetchSubjects","fetchTopics","current","scrollIntoView","behavior","block","response","getMyDoubts","data","doubts","console","getStats","getSubjects","subject","getTopics","handleSubmit","e","preventDefault","trim","payload","topic","submit","_error$response","_error$response$data","message","handleHistoryClick","doubt","answer","relevantMaterials","formatAnswer","text","split","map","line","index","startsWith","className","children","replace","test","endsWith","length","onClick","concat","totalDoubts","resolved","materialsCount","value","onChange","target","disabled","onSubmit","placeholder","rows","type","ref","material","title","Math","round","similarity","style","animationDelay","stopPropagation","Date","createdAt","toLocaleDateString","_id"],"sources":["C:/Users/harsh/Downloads/finalpro/frontend/src/pages/AIDoubtSupport.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport DashboardLayout from '../components/Layout/DashboardLayout';\r\nimport { doubtsAPI, materialsAPI } from '../services/api';\r\nimport {\r\n    MessageCircle,\r\n    Send,\r\n    Search,\r\n    Clock,\r\n    BookOpen,\r\n    Sparkles,\r\n    ChevronDown,\r\n    X,\r\n    AlertCircle,\r\n    User,\r\n    Bot,\r\n    Loader,\r\n    History,\r\n    FileText,\r\n    CheckCircle,\r\n    HelpCircle\r\n} from 'lucide-react';\r\n\r\nconst AIDoubtSupport = () => {\r\n    const [question, setQuestion] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n    const [currentAnswer, setCurrentAnswer] = useState(null);\r\n    const [history, setHistory] = useState([]);\r\n    const [showHistory, setShowHistory] = useState(false);\r\n    const [historyLoading, setHistoryLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n    const [stats, setStats] = useState(null);\r\n\r\n    // Filters\r\n    const [selectedSubject, setSelectedSubject] = useState('');\r\n    const [selectedTopic, setSelectedTopic] = useState('');\r\n    const [subjects, setSubjects] = useState([]);\r\n    const [topics, setTopics] = useState([]);\r\n\r\n    const answerRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        fetchHistory();\r\n        fetchStats();\r\n        fetchSubjects();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedSubject) {\r\n            fetchTopics(selectedSubject);\r\n        } else {\r\n            setTopics([]);\r\n            setSelectedTopic('');\r\n        }\r\n    }, [selectedSubject]);\r\n\r\n    useEffect(() => {\r\n        if (currentAnswer && answerRef.current) {\r\n            answerRef.current.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        }\r\n    }, [currentAnswer]);\r\n\r\n    const fetchHistory = async () => {\r\n        try {\r\n            const response = await doubtsAPI.getMyDoubts();\r\n            setHistory(response.data.doubts || []);\r\n        } catch (error) {\r\n            console.error('Error fetching history:', error);\r\n        } finally {\r\n            setHistoryLoading(false);\r\n        }\r\n    };\r\n\r\n    const fetchStats = async () => {\r\n        try {\r\n            const response = await doubtsAPI.getStats();\r\n            setStats(response.data);\r\n        } catch (error) {\r\n            console.error('Error fetching stats:', error);\r\n        }\r\n    };\r\n\r\n    const fetchSubjects = async () => {\r\n        try {\r\n            const response = await materialsAPI.getSubjects();\r\n            setSubjects(response.data.subjects || []);\r\n        } catch (error) {\r\n            console.error('Error fetching subjects:', error);\r\n        }\r\n    };\r\n\r\n    const fetchTopics = async (subject) => {\r\n        try {\r\n            const response = await materialsAPI.getTopics(subject);\r\n            setTopics(response.data.topics || []);\r\n        } catch (error) {\r\n            console.error('Error fetching topics:', error);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!question.trim() || loading) return;\r\n\r\n        setLoading(true);\r\n        setError('');\r\n        setCurrentAnswer(null);\r\n\r\n        try {\r\n            const payload = { question: question.trim() };\r\n            if (selectedSubject) payload.subject = selectedSubject;\r\n            if (selectedTopic) payload.topic = selectedTopic;\r\n\r\n            const response = await doubtsAPI.submit(payload);\r\n            setCurrentAnswer(response.data);\r\n            setQuestion('');\r\n            fetchHistory();\r\n            fetchStats();\r\n        } catch (error) {\r\n            console.error('Error submitting doubt:', error);\r\n            setError(error.response?.data?.message || 'Failed to get answer. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleHistoryClick = (doubt) => {\r\n        setCurrentAnswer({\r\n            doubt: doubt,\r\n            answer: doubt.answer,\r\n            relevantMaterials: doubt.relevantMaterials\r\n        });\r\n        setShowHistory(false);\r\n    };\r\n\r\n    const formatAnswer = (text) => {\r\n        if (!text) return null;\r\n        \r\n        // Split by newlines and format\r\n        return text.split('\\n').map((line, index) => {\r\n            // Handle bullet points\r\n            if (line.trim().startsWith('•') || line.trim().startsWith('-')) {\r\n                return (\r\n                    <li key={index} className=\"ml-4 mb-1\">\r\n                        {line.replace(/^[•-]\\s*/, '')}\r\n                    </li>\r\n                );\r\n            }\r\n            // Handle numbered lists\r\n            if (/^\\d+[.)]\\s/.test(line.trim())) {\r\n                return (\r\n                    <li key={index} className=\"ml-4 mb-1\">\r\n                        {line.replace(/^\\d+[.)]\\s*/, '')}\r\n                    </li>\r\n                );\r\n            }\r\n            // Handle headers (lines ending with :)\r\n            if (line.trim().endsWith(':') && line.trim().length < 100) {\r\n                return (\r\n                    <h4 key={index} className=\"font-semibold text-gray-900 mt-4 mb-2\">\r\n                        {line}\r\n                    </h4>\r\n                );\r\n            }\r\n            // Regular paragraph\r\n            if (line.trim()) {\r\n                return (\r\n                    <p key={index} className=\"mb-2\">\r\n                        {line}\r\n                    </p>\r\n                );\r\n            }\r\n            return null;\r\n        });\r\n    };\r\n\r\n    return (\r\n        <DashboardLayout>\r\n            <div className=\"space-y-6\">\r\n                {/* Header */}\r\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\r\n                    <div>\r\n                        <h1 className=\"text-2xl font-bold text-gray-900\">AI Doubt Support</h1>\r\n                        <p className=\"text-gray-600 mt-1\">Ask questions and get AI-powered answers from course materials</p>\r\n                    </div>\r\n                    <button\r\n                        onClick={() => setShowHistory(!showHistory)}\r\n                        className={`inline-flex items-center gap-2 px-4 py-2.5 rounded-xl transition-all ${\r\n                            showHistory \r\n                                ? 'bg-black text-white' \r\n                                : 'bg-white text-gray-700 border border-gray-200 hover:bg-gray-50'\r\n                        }`}\r\n                    >\r\n                        <History className=\"w-5 h-5\" />\r\n                        History\r\n                        {history.length > 0 && (\r\n                            <span className={`px-2 py-0.5 text-xs rounded-full ${\r\n                                showHistory ? 'bg-white text-black' : 'bg-gray-100 text-gray-600'\r\n                            }`}>\r\n                                {history.length}\r\n                            </span>\r\n                        )}\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Stats */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                    <div className=\"bg-black rounded-2xl p-5 text-white\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p className=\"text-gray-400 text-sm\">Questions Asked</p>\r\n                                <p className=\"text-3xl font-bold mt-1\">{stats?.totalDoubts || 0}</p>\r\n                            </div>\r\n                            <div className=\"p-3 bg-white rounded-xl\">\r\n                                <HelpCircle className=\"w-6 h-6 text-black\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bg-white rounded-2xl p-5 border border-gray-200\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p className=\"text-gray-500 text-sm\">Resolved</p>\r\n                                <p className=\"text-3xl font-bold mt-1 text-gray-900\">{stats?.resolved || 0}</p>\r\n                            </div>\r\n                            <div className=\"p-3 bg-gray-100 rounded-xl\">\r\n                                <CheckCircle className=\"w-6 h-6 text-gray-700\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"bg-white rounded-2xl p-5 border border-gray-200\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <div>\r\n                                <p className=\"text-gray-500 text-sm\">Available Materials</p>\r\n                                <p className=\"text-3xl font-bold mt-1 text-gray-900\">{stats?.materialsCount || 0}</p>\r\n                            </div>\r\n                            <div className=\"p-3 bg-gray-100 rounded-xl\">\r\n                                <BookOpen className=\"w-6 h-6 text-gray-700\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Error */}\r\n                {error && (\r\n                    <div className=\"p-4 bg-gray-100 border border-gray-300 rounded-xl flex items-center gap-3 text-gray-700\">\r\n                        <AlertCircle className=\"w-5 h-5 flex-shrink-0\" />\r\n                        <span>{error}</span>\r\n                        <button onClick={() => setError('')} className=\"ml-auto p-1 hover:bg-gray-200 rounded-lg\">\r\n                            <X className=\"w-4 h-4\" />\r\n                        </button>\r\n                    </div>\r\n                )}\r\n\r\n                {/* Question Form */}\r\n                <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-6\">\r\n                    <div className=\"flex items-center gap-3 mb-4\">\r\n                        <div className=\"p-2 bg-black rounded-xl\">\r\n                            <Sparkles className=\"w-5 h-5 text-white\" />\r\n                        </div>\r\n                        <h2 className=\"text-lg font-semibold text-gray-900\">Ask a Question</h2>\r\n                    </div>\r\n\r\n                    {/* Optional Filters */}\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-4\">\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-600 mb-1\">\r\n                                Subject (Optional)\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <select\r\n                                    value={selectedSubject}\r\n                                    onChange={(e) => setSelectedSubject(e.target.value)}\r\n                                    className=\"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl appearance-none focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all text-sm\"\r\n                                >\r\n                                    <option value=\"\">All Subjects</option>\r\n                                    {subjects.map((subject) => (\r\n                                        <option key={subject} value={subject}>{subject}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none\" />\r\n                            </div>\r\n                        </div>\r\n                        <div>\r\n                            <label className=\"block text-sm font-medium text-gray-600 mb-1\">\r\n                                Topic (Optional)\r\n                            </label>\r\n                            <div className=\"relative\">\r\n                                <select\r\n                                    value={selectedTopic}\r\n                                    onChange={(e) => setSelectedTopic(e.target.value)}\r\n                                    disabled={!selectedSubject}\r\n                                    className=\"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl appearance-none focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all text-sm disabled:opacity-50\"\r\n                                >\r\n                                    <option value=\"\">All Topics</option>\r\n                                    {topics.map((topic) => (\r\n                                        <option key={topic} value={topic}>{topic}</option>\r\n                                    ))}\r\n                                </select>\r\n                                <ChevronDown className=\"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400 pointer-events-none\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Question Input */}\r\n                    <form onSubmit={handleSubmit}>\r\n                        <div className=\"relative\">\r\n                            <textarea\r\n                                value={question}\r\n                                onChange={(e) => setQuestion(e.target.value)}\r\n                                placeholder=\"Type your question here... The AI will search through course materials to provide a relevant answer.\"\r\n                                rows={4}\r\n                                className=\"w-full px-4 py-3 bg-gray-50 border border-gray-200 rounded-xl focus:bg-white focus:ring-2 focus:ring-black focus:border-transparent outline-none transition-all resize-none\"\r\n                            />\r\n                        </div>\r\n                        <div className=\"flex items-center justify-between mt-4\">\r\n                            <p className=\"text-sm text-gray-500\">\r\n                                {selectedSubject || selectedTopic ? (\r\n                                    <>Searching in: {selectedSubject || 'All'} {selectedTopic && `> ${selectedTopic}`}</>\r\n                                ) : (\r\n                                    'Searching across all materials'\r\n                                )}\r\n                            </p>\r\n                            <button\r\n                                type=\"submit\"\r\n                                disabled={!question.trim() || loading}\r\n                                className=\"inline-flex items-center gap-2 px-6 py-3 bg-black text-white rounded-xl hover:bg-gray-800 transition-all disabled:opacity-70 disabled:cursor-not-allowed font-medium\"\r\n                            >\r\n                                {loading ? (\r\n                                    <>\r\n                                        <Loader className=\"w-5 h-5 animate-spin\" />\r\n                                        Processing...\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <Send className=\"w-5 h-5\" />\r\n                                        Ask Question\r\n                                    </>\r\n                                )}\r\n                            </button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                {/* Answer Display */}\r\n                {currentAnswer && (\r\n                    <div ref={answerRef} className=\"bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden\">\r\n                        {/* Question */}\r\n                        <div className=\"p-6 bg-gray-50 border-b border-gray-200\">\r\n                            <div className=\"flex items-start gap-3\">\r\n                                <div className=\"p-2 bg-white rounded-xl shadow-sm\">\r\n                                    <User className=\"w-5 h-5 text-gray-600\" />\r\n                                </div>\r\n                                <div>\r\n                                    <p className=\"text-sm font-medium text-gray-500\">Your Question</p>\r\n                                    <p className=\"text-gray-900 mt-1\">{currentAnswer.doubt?.question}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Answer */}\r\n                        <div className=\"p-6\">\r\n                            <div className=\"flex items-start gap-3\">\r\n                                <div className=\"p-2 bg-black rounded-xl\">\r\n                                    <Bot className=\"w-5 h-5 text-white\" />\r\n                                </div>\r\n                                <div className=\"flex-1 min-w-0\">\r\n                                    <p className=\"text-sm font-medium text-gray-500 mb-3\">AI Answer</p>\r\n                                    <div className=\"prose prose-sm max-w-none text-gray-700\">\r\n                                        {formatAnswer(currentAnswer.answer)}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Relevant Materials */}\r\n                        {currentAnswer.relevantMaterials && currentAnswer.relevantMaterials.length > 0 && (\r\n                            <div className=\"px-6 pb-6\">\r\n                                <div className=\"bg-gray-50 rounded-xl p-4\">\r\n                                    <div className=\"flex items-center gap-2 text-sm font-medium text-gray-700 mb-3\">\r\n                                        <FileText className=\"w-4 h-4\" />\r\n                                        Sources Referenced\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        {currentAnswer.relevantMaterials.map((material, index) => (\r\n                                            <div\r\n                                                key={index}\r\n                                                className=\"flex items-center gap-3 p-3 bg-white rounded-lg border border-gray-200\"\r\n                                            >\r\n                                                <div className=\"p-1.5 bg-gray-100 rounded-lg\">\r\n                                                    <BookOpen className=\"w-4 h-4 text-gray-600\" />\r\n                                                </div>\r\n                                                <div className=\"flex-1 min-w-0\">\r\n                                                    <p className=\"text-sm font-medium text-gray-900 truncate\">\r\n                                                        {material.title}\r\n                                                    </p>\r\n                                                    <p className=\"text-xs text-gray-500\">\r\n                                                        {material.subject} • {material.topic}\r\n                                                    </p>\r\n                                                </div>\r\n                                                <span className=\"text-xs text-gray-400 bg-gray-100 px-2 py-1 rounded\">\r\n                                                    {Math.round((material.similarity || 0) * 100)}% match\r\n                                                </span>\r\n                                            </div>\r\n                                        ))}\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n\r\n                {/* Loading State */}\r\n                {loading && !currentAnswer && (\r\n                    <div className=\"bg-white rounded-2xl shadow-sm border border-gray-200 p-8 text-center\">\r\n                        <div className=\"w-16 h-16 bg-black rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                            <Sparkles className=\"w-8 h-8 text-white animate-pulse\" />\r\n                        </div>\r\n                        <h3 className=\"text-lg font-medium text-gray-900\">Searching Course Materials</h3>\r\n                        <p className=\"text-gray-500 mt-1\">Finding the most relevant content for your question...</p>\r\n                        <div className=\"mt-4 flex justify-center gap-1\">\r\n                            <div className=\"w-2 h-2 bg-black rounded-full animate-bounce\" style={{ animationDelay: '0ms' }}></div>\r\n                            <div className=\"w-2 h-2 bg-black rounded-full animate-bounce\" style={{ animationDelay: '150ms' }}></div>\r\n                            <div className=\"w-2 h-2 bg-black rounded-full animate-bounce\" style={{ animationDelay: '300ms' }}></div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n\r\n                {/* History Sidebar */}\r\n                {showHistory && (\r\n                    <div className=\"fixed inset-0 bg-black/60 z-50 flex justify-end\" onClick={() => setShowHistory(false)}>\r\n                        <div\r\n                            className=\"bg-white w-full max-w-md h-full overflow-hidden flex flex-col\"\r\n                            onClick={(e) => e.stopPropagation()}\r\n                        >\r\n                            <div className=\"p-6 border-b border-gray-200 flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                    <div className=\"p-2 bg-gray-100 rounded-xl\">\r\n                                        <History className=\"w-5 h-5 text-gray-600\" />\r\n                                    </div>\r\n                                    <h2 className=\"text-lg font-semibold text-gray-900\">Question History</h2>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => setShowHistory(false)}\r\n                                    className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                                >\r\n                                    <X className=\"w-5 h-5\" />\r\n                                </button>\r\n                            </div>\r\n\r\n                            <div className=\"flex-1 overflow-y-auto p-4\">\r\n                                {historyLoading ? (\r\n                                    <div className=\"flex items-center justify-center h-32\">\r\n                                        <Loader className=\"w-6 h-6 text-gray-400 animate-spin\" />\r\n                                    </div>\r\n                                ) : history.length === 0 ? (\r\n                                    <div className=\"text-center py-12\">\r\n                                        <div className=\"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                                            <MessageCircle className=\"w-8 h-8 text-gray-400\" />\r\n                                        </div>\r\n                                        <h3 className=\"text-gray-900 font-medium\">No questions yet</h3>\r\n                                        <p className=\"text-gray-500 text-sm mt-1\">\r\n                                            Your question history will appear here\r\n                                        </p>\r\n                                    </div>\r\n                                ) : (\r\n                                    <div className=\"space-y-3\">\r\n                                        {history.map((doubt) => (\r\n                                            <button\r\n                                                key={doubt._id}\r\n                                                onClick={() => handleHistoryClick(doubt)}\r\n                                                className=\"w-full text-left p-4 bg-gray-50 hover:bg-gray-100 rounded-xl transition-colors group\"\r\n                                            >\r\n                                                <p className=\"text-sm font-medium text-gray-900 line-clamp-2 group-hover:text-black\">\r\n                                                    {doubt.question}\r\n                                                </p>\r\n                                                <div className=\"flex items-center gap-2 mt-2 text-xs text-gray-500\">\r\n                                                    {doubt.subject && (\r\n                                                        <>\r\n                                                            <span className=\"px-2 py-0.5 bg-gray-200 rounded\">\r\n                                                                {doubt.subject}\r\n                                                            </span>\r\n                                                        </>\r\n                                                    )}\r\n                                                    <span className=\"flex items-center gap-1\">\r\n                                                        <Clock className=\"w-3 h-3\" />\r\n                                                        {new Date(doubt.createdAt).toLocaleDateString()}\r\n                                                    </span>\r\n                                                </div>\r\n                                            </button>\r\n                                        ))}\r\n                                    </div>\r\n                                )}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </DashboardLayout>\r\n    );\r\n};\r\n\r\nexport default AIDoubtSupport;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}